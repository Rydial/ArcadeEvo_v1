#ifndef SRC_GL_DEBUG_H
#define SRC_GL_DEBUG_H


#include "Debug.h"

#include <string_view>


////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////// MACROS ////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////


#ifndef NDEBUG  // Debug Mode

    /*
        Notes: Only works with copy assignment, copy initialization and ;
    */
    #define GL_CHECK(x) (x); debug::opengl::checkError(__FILE__, __LINE__)

#else           // Release Mode

    #define GL_CHECK(x)
    
#endif


////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////// DEBUG /////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////


namespace debug::opengl
{
    /*
        Throws an runtime error if an OpenGL error occured
    */
    void checkError(std::string_view file, int line);
}

#endif // SRC_GL_DEBUG_H
